---
import Layout from "../layouts/Layout.astro";
import ProductCard from "../components/ProductCard.astro";
import { isSpecialActive } from "../utils/dateUtils";
import SpecialProducts from "../data/SpecialProducts.json";

if (!isSpecialActive()) {
    return Astro.redirect("/404");
}
---

<Layout>
    <main>
        <div class="special-header">
            <h1>Â¡Regala elegancia esta Navidad!</h1>
            <p class="promotion-text">
                Descubre nuestra exclusiva colecciÃ³n de carteras y bolsas de piel ideales para regalar en Navidad
            </p>
            <dl>
                <dt>ðŸ‘œ Carteras y bolsas para dama y caballero:</dt>
                <dd class="">Piel genuina</dd>
                <dd class="">DiseÃ±os modernos y clÃ¡sicos</dd>
                <dd class="">Calidad premium</dd>
                <dd class="">Piezas exclusivas</dd>
            </dl>
            <div class="countdown-banner">
                <p>ðŸ“† Solo disponible hasta el 20 de diciembre o hasta agotar existencias</p>
            </div>
        </div>
        <div class="product-grid">
            {SpecialProducts.map((product) => <ProductCard {...product} />)}
        </div>
    </main>
</Layout>

<style>
    .special-header {
        margin-bottom: 3rem;
        padding: 2rem;
        background: linear-gradient(
            135deg,
            rgba(37, 99, 235, 0.1) 0%,
            rgba(228, 38, 38, 0.1) 100%
        ); /** */
        border-radius: 16px;
        backdrop-filter: var(--glass-blur);
        -webkit-backdrop-filter: var(--glass-blur);
        border: 1px solid rgba(255, 255, 255, 0.2);
        z-index: 10;
    }
    dl {
        text-align: center;
    }
    dt,
    dd {
        color: var(--white-color);
    }
    dt {
        font-size: clamp(2rem, 4vw, 2rem);
        font-weight: 600;
    }
    dd {
        font-size: clamp(1.5rem, 4vw, 1.5rem);
        font-weight: 500;
    }
    h1 {
        text-align: center;
        color: var(--white-color);
        font-size: clamp(2rem, 4vw, 3rem);
        margin-bottom: 1rem;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
    }
    .promotion-text {
        color: rgba(255, 255, 255, 0.9);
        font-size: clamp(1.1rem, 2vw, 1.5rem);
        margin-bottom: 1.5rem;
    }
    .countdown-banner {
        background: rgba(220, 38, 38, 0.2);
        padding: 1rem;
        border-radius: 8px;
        margin-top: 1.5rem;
    }
    p {
        text-align: center;
        color: var(--white-color);
        font-size: clamp(0.9rem, 1.5vw, 1.1rem);
        margin: 0;
    }
    .product-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 2rem;
        padding: 1rem;
    }

    @media (max-width: 768px) {
        main {
            padding: 1rem;

            .spaecial-header {
                padding: 1.5rem;
                margin-bottom: 2rem;
            }
            .product-grid {
                grid-template-columns: repeat(auto-fit, mimax(250px, 1fr));
                gap: 1.5rem;
            }
        }
    }
</style>
